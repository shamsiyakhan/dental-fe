<div class="patients-container">
  <div class="header">
    <h2 class="title">Patients</h2>
    <input
      type="text"
      placeholder="Search patients..."
      [(ngModel)]="searchText"
      (input)="filterPatients()"
      class="search-input"
    />
  </div>

  <table class="patients-table">
    <thead>
      <tr>
        <th>Patient ID</th>
        <th>Full Name</th>
        <th>Gender</th>
        <th>DOB</th>
        <th>Phone</th>
        <th>Emergency Contact</th>
        <th>Payment Type</th>
        <th class="action-col">Action</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let patient of filteredPatients">
        <td>{{ patient.userid }}</td>
        <td>{{ patient.fullname }}</td>
        <td>{{ patient.gender }}</td>
        <td>{{ patient.dob | date: 'mediumDate' }}</td>
        <td>{{ patient.phone }}</td>
        <td>{{ patient.emergency_contact }}</td>
        <td>{{ patient.registration_payment_type || 'N/A' }}</td>
        <td class="action-col">
          <span
            class="select-icon"
            matTooltip="Select this patient"
            (click)="redirectToPatientInfo(patient.userid)"
          >
            ‚ûù
          </span>
        </td>
      </tr>
    </tbody>
  </table>
</div>
