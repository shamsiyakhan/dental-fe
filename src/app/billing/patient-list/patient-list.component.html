<div class="patient-list-container">

  <!-- Header -->
  <header class="dashboard-header">
    <input type="text" placeholder="Search patients..." class="search-bar" />
    <div class="user-info">
      <div class="user-details">
        <h4>Dr. Sarah Johnson</h4>
        <span>Administrator</span>
      </div>
      <div class="user-avatar">SJ</div>
    </div>
  </header>

  <!-- Main Content -->
  <div class="patient-list-content">
    <div class="left-section">
      <h2>Patient List</h2>
      <p>View patient billing information</p>

      <div *ngIf="loading" class="text-blue-600 py-6">Loading data...</div>

      <div class="table-container" *ngIf="!loading && patients.length > 0">
        <h4>All Patients ({{ patients.length }})</h4>

        <table class="patient-table">
          <thead>
            <tr>
              <th>Patient ID</th>
              <th>Name</th>
              <th>Phone</th>
              <th>Outstanding</th>
              <th>Unpaid Treatments</th>
              <th>Actions</th>
            </tr>
          </thead>

          <tbody>
            <tr *ngFor="let p of patients">
              <td>{{ p.userid }}</td>
              <td>{{ p.fullname }}</td>
              <td>{{ p.phone }}</td>
              <td>â‚¹{{ p.total_unpaid_amount | number:'1.2-2' }}</td>
              <td>{{ p.unpaid_treatments }}</td>
              <td>
                <button class="view-btn" (click)="viewPatient(p.userid)">View</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <div *ngIf="!loading && patients.length === 0" class="text-center py-8 text-gray-500">
        No patients with unpaid bills found ðŸŽ‰
      </div>
    </div>
  </div>
</div>
