<div class="dashboard-container">
    <!-- Header -->
    <div class="dashboard-header">
        <h1>Doctor Dashboard</h1>
        <div class="doctor-info">
            <div class="name">{{ doctor.fullname }}</div>
            <div class="email">{{ doctor.email }}</div>
        </div>
    </div>

    <!-- Stats Cards -->
    <div class="stats-cards">
        <div class="card">
            <div class="stat-title">Today's Appointments</div>
            <div class="stat-value">{{ todaysAppointments?.length || 0 }}</div>
        </div>
        <div class="card">
            <div class="stat-title">Completed Appointments</div>
            <div class="stat-value">{{ completedAppointments?.length || 0 }}</div>
        </div>
        <div class="card">
            <div class="stat-title">Total Patients</div>
            <div class="stat-value">{{ totalPatients || 0 }}</div>
        </div>
    </div>

    <!-- Today's Appointments Section -->
    <div class="appointments-section">
        <div class="section-header">Today's Appointments</div>
        <div *ngIf="todaysAppointments.length > 0; else noTodayAppointments">
            <div class="appointment-card" *ngFor="let a of todaysAppointments">
                <div class="left">
                    <div class="patient">{{ a.fullname || a.patientid }}</div>
                    <div class="treatment">{{ a.treatment_name }}</div>
                </div>
                <div class="right">
                    <div class="date">{{ appointmentDate(a.appointment_date || a.issue_date || "") }}</div>
                    <div class="status" [ngClass]="a.status?.toLowerCase()">{{ a.status }}</div>
                </div>
            </div>
        </div>
        <ng-template #noTodayAppointments>
            <div class="no-data">No appointments today</div>
        </ng-template>
    </div>

    <!-- Completed Appointments Section -->
    <div class="appointments-section">
        <div class="section-header">Completed Appointments</div>
        <div *ngIf="completedAppointments.length > 0; else noCompletedAppointments">
            <div class="appointment-card" *ngFor="let c of completedAppointments">
                <div class="left">
                    <div class="patient">{{ c.fullname || c.patientid }}</div>
                    <div class="treatment">{{ c.treatment_name }}</div>
                </div>

                <div class="right">
                    <div class="date">{{ appointmentDate(c.appointment_date || c.issue_date || '') }}</div>

                    <div class="status completed">{{ c.status }}</div>
                </div>
            </div>
        </div>
        <ng-template #noCompletedAppointments>
            <div class="no-data">No completed appointments</div>
        </ng-template>
    </div>
</div>